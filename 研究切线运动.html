<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>切线运动</title>
</head>
<body>
<svg
        xmlns:dc="http://purl.org/dc/elements/1.1/"
        xmlns:cc="http://creativecommons.org/ns#"
        xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
        xmlns:svg="http://www.w3.org/2000/svg"
        xmlns="http://www.w3.org/2000/svg"
        id="svg8"
        version="1.1"
        viewBox="0 0 210 297"
        height="297mm"
        width="210mm">
    <defs
            id="defs2"/>
    <metadata
            id="metadata5">
        <rdf:RDF>
            <cc:Work
                    rdf:about="">
                <dc:format>image/svg+xml</dc:format>
                <dc:type
                        rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
                <dc:title></dc:title>
            </cc:Work>
        </rdf:RDF>
    </metadata>
    <g
            id="layer1">
        <path
                id="path815"
                d="m 17.197916,17.6 c 17.057778,8.921902 37.383451,11.414673 56.091666,6.879166 15.576233,-3.776208 29.724978,-12.133765 45.243748,-16.1395828 11.0828,-2.8607733 23.01336,-3.3980741 33.85814,0.2629645 5.42239,1.8305193 10.5161,4.7031473 14.7302,8.5754203 4.2141,3.872274 7.53121,8.755847 9.35541,14.180366 2.38345,7.087521 2.12005,15.054954 -0.84927,21.917673 -2.96933,6.86272 -8.642,12.538026 -15.5549,15.388577 -8.67073,3.575399 -18.66951,2.623879 -27.4952,-0.549803 C 123.75202,64.941099 115.84215,59.709128 107.95,54.641667 102.87786,51.384902 97.753273,48.165119 92.252724,45.699949 86.752175,43.234779 80.830608,41.533395 74.803291,41.465964 c -6.027317,-0.06743 -12.177062,1.589673 -16.940249,5.283606 -2.381594,1.846967 -4.393093,4.185181 -5.779473,6.861227 -1.38638,2.676047 -2.138601,5.690563 -2.07732,8.703787 0.10273,5.051316 2.508361,9.904921 6.065243,13.493088 3.556882,3.588166 8.192089,5.980696 13.036698,7.414609 9.689218,2.867826 20.02388,2.036654 30.110559,2.640219 24.373111,1.458434 47.814551,11.389882 72.231251,11.377083 5.19595,-0.0027 10.60412,-0.422037 15.38293,1.617808 2.3894,1.019923 4.55846,2.679869 5.87534,4.919359 0.65844,1.11975 1.09644,2.37393 1.23287,3.66574 0.13643,1.2918 -0.0328,2.62026 -0.53073,3.82001 -0.74452,1.79376 -2.19228,3.23288 -3.85155,4.24219 -1.65927,1.00931 -3.52856,1.62166 -5.40886,2.10781 -14.1459,3.6574 -29.04519,0.52721 -43.65625,0.52917 -11.57693,0.002 -23.08245,1.98728 -34.65922,2.04917 -5.78838,0.031 -11.60747,-0.4252 -17.222435,-1.83179 -5.614964,-1.4066 -11.032768,-3.7884 -15.587096,-7.36113 -7.226608,-5.66906 -11.858874,-13.923747 -17.665915,-21.039951 -2.90352,-3.558103 -6.163934,-6.886683 -10.048163,-9.336843 -3.88423,-2.45016 -8.44512,-3.985338 -13.031755,-3.754459 -3.392405,0.170765 -6.745632,1.324685 -9.457433,3.370097 -2.7118,2.045411 -4.758033,4.987062 -5.623817,8.27157 -1.208881,4.58611 -0.06746,9.582592 2.381962,13.643886 2.449419,4.0613 6.10718,7.27331 10.053455,9.90403 4.564425,3.0428 9.561206,5.38356 14.191025,8.32591 4.629818,2.94235 8.994605,6.62423 11.473558,11.51784 2.423594,4.78433 2.844251,10.28733 3.742428,15.57475 0.449089,2.64372 1.032059,5.28111 2.05103,7.76156 1.018971,2.48044 2.494489,4.8104 4.525292,6.56161 2.941148,2.53622 6.91132,3.70753 10.794637,3.65628 3.883318,-0.0512 7.686561,-1.25384 11.150976,-3.00901 6.92883,-3.51033 12.539071,-9.13468 19.064801,-13.34727 9.59166,-6.19176 21.10342,-9.20167 32.51946,-9.09313 11.41605,0.10855 22.71899,3.2675 32.83262,8.56396 4.07955,2.13644 7.9785,4.61759 11.64167,7.40833"

                style="fill:none;stroke:#6bea30;stroke-width:0.5291667;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/>
    </g>
</svg>
<script type="text/javascript" src="js/snap.svg-min.js"></script>
<script type="text/javascript">
    var xian = Snap("#path815");
    //	console.log(document.querySelector('path').getTotalLength())
    var yuan = Snap("#svg8").paper.path("M60 60 L64 63 L56 63 L60 60 Z").attr({
        fill: "blue",
        stroke: "red",
        strokeWidth: "1"
    });
    //console.log(xian.getPointAtLength(5).alpha)
    Snap.animate(0, xian.getTotalLength(), function (val) {
        var movepoint = xian.getPointAtLength(val);
        //获得路径上的每个点坐标
        var x = movepoint.x;
        var y = movepoint.y;
        var deg = movepoint.alpha;

        yuan.transform(new Snap.Matrix().rotate(Snap.deg((deg - 90) / 180 * Math.PI), x, y).translate(x - 60, y - 60))

    }, 114500);

</script>
</body>
</html>
