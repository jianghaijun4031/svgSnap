<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>小球沿着曲线运动</title>
</head>

<body>
<svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#"
     xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg"
     xmlns="http://www.w3.org/2000/svg" id="svg8" version="1.1" viewBox="0 0 210 297" height="297mm" width="210mm">
    <defs id="defs2"/>
    <metadata id="metadata5">
        <rdf:RDF>
            <cc:Work rdf:about="">
                <dc:format>image/svg+xml</dc:format>
                <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
                <dc:title></dc:title>
            </cc:Work>
        </rdf:RDF>
    </metadata>
    <g id="layer1">
        <path id="path815"
              d="m 17.197916,53.054167 c 0,0 18.25625,-39.952084 46.0375,-18.785416 C 91.016666,55.435417 58.208333,73.1625 81.227082,69.19375 104.24583,65.225 77.522916,49.879167 104.775,43.264584 c 27.25208,-6.614583 1.32292,27.78125 32.01458,20.6375 30.69167,-7.14375 4.23333,-21.960417 24.07708,-32.014583 19.84375,-10.054168 23.54792,0.79375 27.51667,6.879166 3.96875,6.085417 2.11667,27.516667 -10.84792,33.866667 -12.96458,6.35 -8.73125,38.893746 -33.07291,31.220836 -24.34167,-7.67292 -8.46667,23.01875 -33.60208,9.525 -25.135421,-13.493753 -21.960421,8.20208 -44.185421,-5.02709 -22.225,-13.229163 -8.995833,29.36875 -29.897916,8.46667 C 15.875,95.916667 27.78125,116.28958 26.9875,93.270833 26.19375,70.252084 50.270833,87.45 50.270833,87.45"
              style="fill:none;stroke:#47db59;stroke-width:0.52916667;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none"/>
    </g>
</svg>
<script type="text/javascript" src="js/snap.svg-min.js"></script>
<script type="text/javascript">
    var xian = Snap("#path815");
    //	console.log(document.querySelector('path').getTotalLength())
    var yuan = Snap("#svg8").paper.circle(17.197916, 53.054167, 5).attr({
        fill: "red"
    });
    //	console.log(xian.getPointAtLength(523.259033203125).x)
    //			Snap.animate(0, xian.getTotalLength(), function(val) {
    //				var movepoint = xian.getPointAtLength(val);
    //				yuan.attr({
    //					cx: movepoint.x,
    //					cy: movepoint.y,
    //					fill: "blue"
    //				});
    //			}, 24500);
    ax();
    function ax() {
        Snap.animate(0, xian.getTotalLength(), function (val) {
            var movepoint = xian.getPointAtLength(val);
            yuan.attr({
                cx: movepoint.x,
                cy: movepoint.y,
                fill: "blue"
            });
        }, 24500, function () {
            bx();
        });
    }
    function bx() {
        Snap.animate(xian.getTotalLength(), 0, function (val) {
            var movepoint = xian.getPointAtLength(val);
            yuan.attr({
                cx: movepoint.x,
                cy: movepoint.y,
                fill: "blue"
            });
        }, 24500, function () {
            ax();
        });
    }
</script>
</body>

</html>